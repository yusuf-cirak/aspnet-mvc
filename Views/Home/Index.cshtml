@{
    ViewData["Title"] = "Home Page";
}
    <div class="row justify-content-start">
        
        <div class="row ">
            <div class="col" >
                 <div class="card">
                <div class="card-body list-partial">
                </div>
                </div>
                </div>
            </div>
            <div class="col" style="text-align:center;">
    <button id="createStudentModal" type="button" data-bs-toggle="modal" class="btn btn-primary mb-3" data-bs-target="#exampleModalLong">Öğrenci ekle</button>
                <div class="create-partial"></div>
                <div class="update-partial"></div> 
            </div>

            
        </div>
    </section>

    @section Scripts{
        <script type="text/javascript">

        // jQuery is not working in partial views when not rendered, i render partial view on init with empty model.
        $(document).ready(function () {

            $.ajax({
                    url: '@Url.Action("GetStudents", "Home")',
                    type: "GET",
                    dataType: "html",
                    data:{},
                    contentType:"application/html charset=utf-8",
                    success: function (response) {
                        $('.list-partial').html(response);
                         jQuery('#myTable').DataTable({
                "scrollY": "450px",
                "scrollCollapse": true,
                "paging": true
            });
                    },
                    error: function (err) {
                        toastr.error("Beklenmedik bir durum oluştu!")
                    }
                });



                    $.ajax({
                    url: '@Url.Action("GetCreateOrUpdatePartial", "Home")',
                    type: "GET",
                    dataType: "html",
                    data:{"partialName":"Edit"},
                    contentType:"application/html charset=utf-8",
                    success: function (response) {
                        $('.update-partial').html(response);
                    },
                    error: function (err) {
                        toastr.error("Bir şeyler ters gitti!")
                    }
                });

                $.ajax({
                    url: '@Url.Action("GetCreateOrUpdatePartial", "Home")',
                    type: "GET",
                    dataType: "html",
                    data:{"partialName":"Create"},
                    contentType:"application/html charset=utf-8",
                    success: function (response) {
                        $('.create-partial').html(response);
                    },
                    error: function (err) {
                        toastr.error("Beklenmedik bir sorun oluştu!")
                    }
                });
            })
    </script>

    
    }
